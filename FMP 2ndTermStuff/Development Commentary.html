<!DOCTYPE html>
<html>
<head>
<title>Development Commentary.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="2204331-ben-powell">2204331 Ben Powell</h1>
<h1 id="ben-powell-project-commentary">Ben Powell Project Commentary</h1>
<p>Repository Link: <a href="https://github.com/Warius5/FMP_Prototype_BenPowell/tree/FMP">Repo</a></p>
<p>Itch.io Build: <a href="https://warius5.itch.io/turn-based-auto-battler">Itch</a></p>
<p>Video link: <a href="https://youtu.be/y-19JoRGPuk">Video Demonstration</a></p>
<h2 id="project-outcome">Project Outcome</h2>
<p>This project aim is to create an autobattler prototype system, with item equipping, turn based combat, and an overall progression map that is used to go between the battles.</p>
<p>For the project i want to make use of a different sort of layout/ architecture of the parts of the project than i am used to, where i would normally use a object oriented design to structure the project, i want to use a more data oriented structure. Other than gaining experience creating and designing a system that uses a different sort of methodology than have before, using a data oriented approach seems a better way getting through the turn based and stats based combat of the game. Using managers and passing data and events between them to complete the battle and ui logic means its all centralised in one place makes using turn based more easy as its all in one manager rather than spread out between different places.
I also want to have a lot of the parts be dynamic in their creation, where rather than all manually made / assigned by me specifically, i want the set up and generation of the map especially to be create in a script, with limited interaction.
I think the one of the more difficult things will be making the map in an good way, as there are many possible ways of having the map tree, and having not done something like that before, figuring out the way to do it may be hard so some trial and error may be needed.
As the project goes on, being able to go back through and fix things within the managers may cause issues, as things could become to entangled with each other, so changing or adding things may become somewhat problematic. Hopefully I can keep on top of it, or at least make use of events and functions to separate out the logic to avoid.</p>
<h2 id="organisation">Organisation</h2>
<ul>
<li>Using Github for version control, as is what i've used before, and allows me to keep saves of the unreal project that can be easily added to from different computers and keeps past versions in case anything breaks horribly.</li>
<li>Using a Trello board to make a time plan, using a Kanban structure, as the development was mainly in steps of things being done, so not a lot of backwards cross to other mechanics. Therefore, the tasks can go along the stages on the board as i complete parts. Which fits with the ethos of Kanban.
https://trello.com/</li>
</ul>
<iframe src = "https://trello.com/b/KM5ifd0c.html" frameBorder="0" width="100%" height="700"> </iframe>
<p><a href="https://trello.com/b/KM5ifd0c/fmp-proper">If the embed doesnt work</a></p>
<ul>
<li>I will also try to keep ontop of using proper naming and file strucure for my files, and where i forget to, or cannot. I will try to make the actors, variable and events names be clear and useful.</li>
<li>Also using comments within the blueprints to explain key parts or purposes of the main nodes.</li>
</ul>
<h2 id="research">Research</h2>
<hr>
<h3 id="methodology"><strong>Methodology</strong></h3>
<ul>
<li>
<p>Used a range of sources: <strong>games</strong>, <strong>academic papers</strong>, <strong>technical documentation</strong>, and <strong>user feedback</strong>.</p>
</li>
<li>
<p>Focused research around three areas:</p>
<ul>
<li>Turn-based combat systems (gameplay structure)</li>
<li>UI/UX design and feedback</li>
<li>Procedural map generation</li>
</ul>
</li>
<li>
<p>Carefully selected games that reflected <strong>specific mechanics</strong> relevant to the vision for my game, rather than genre alone.</p>
</li>
<li>
<p>Supplemented academic research with:</p>
<ul>
<li>Unreal Engine documentation</li>
<li>Community forums</li>
<li><strong>ChatGPT</strong> to clarify and explain solutions that were unclear or scattered in other sources.</li>
</ul>
</li>
<li>
<p>Conducted iterative <strong>user testing</strong> via surveys and gameplay observations to validate interface clarity and gameplay mechanics throughout development.</p>
</li>
</ul>
<hr>
<h3 id="game-sources"><strong>Game Sources</strong></h3>
<h4 id="super-auto-pets-team-wood-games-2021"><em>Super Auto Pets</em> (Team Wood Games, 2021)</h4>
<ul>
<li>
<p>Auto-battler featuring drag-and-drop item mechanics and simple turn-based combat.</p>
</li>
<li>
<p>Pets have two stats (attack and health), which <strong>reset after each round</strong> unless changed in the shop phase.</p>
</li>
<li>
<p>Influenced:</p>
<ul>
<li>My item equipping system (drag-and-drop)</li>
<li>Stat display feedback (colour coding)</li>
<li>Decision to use <strong>automated combat</strong> rather than player-selected actions.</li>
</ul>
</li>
<li>
<p>Strong UI feedback through colour, sound, and animations inspired my use of hover indicators and clear stat visuals.</p>
</li>
</ul>
<p><img src="https://shared.cloudflare.steamstatic.com/store_item_assets/steam/apps/1714040/ss_f61be4caff97d77b7df02bcdadee2687232e991f.1920x1080.jpg?t=1680944541" alt="Super Auto Pets">
(Team Wood Games, 2021)</p>
<hr>
<h4 id="darkest-dungeon-red-hook-studios-2016"><em>Darkest Dungeon</em> (Red Hook Studios, 2016)</h4>
<ul>
<li>Roguelike turn-based RPG using strict initiative-based combat.</li>
<li>Characters act one at a time, each with individual animations and positional effects.</li>
<li>Inspired my <strong>sequential turn logic</strong> — each character performs a full turn before the next, improving clarity and animation feedback.</li>
<li>Helped inform pacing and attack presentation in my battle system.</li>
</ul>
<hr>
<h4 id="peglin-red-nexus-games-2022"><em>Peglin</em> (Red Nexus Games, 2022)</h4>
<ul>
<li>
<p>Roguelike with turn-based battles and a <strong>branching node map</strong>.</p>
</li>
<li>
<p>Map system inspired my <strong>procedural node generation</strong>:</p>
<ul>
<li>Used child actor components for dynamic node creation.</li>
<li>Adapted from static to procedural structure using spatial logic and depth-based generation.</li>
</ul>
</li>
<li>
<p>Influenced visual design for nodes:</p>
<ul>
<li>Clear distinction between active, inactive, and completed paths.</li>
<li>Visual clarity of the map helped inform <strong>UI layout and player path feedback</strong>.</li>
</ul>
</li>
</ul>
<p><img src="https://static.wikia.nocookie.net/peglin/images/4/43/Map.png/revision/latest/scale-to-width-down/1000?cb=20220127024649" alt="Peglin Map Example">
(Peglin Wiki, 2025)</p>
<hr>
<h3 id="academic-sources"><strong>Academic Sources</strong></h3>
<h4 id="turn-based-vs-real-time-combat-m%C3%A4kel%C3%A4-and-schmidt-2020"><em>Turn-Based vs Real-Time Combat</em> (Mäkelä and Schmidt, 2020)</h4>
<ul>
<li>
<p>Compared player preferences for different combat styles in RPGs.</p>
</li>
<li>
<p>Key observations:</p>
<ul>
<li>“The key characteristic of RT systems is that all, or almost all, of the gameplay takes place in real-time.”</li>
<li>Turn-based systems: “combatants act in turns, usually one at a time. Other combatants are typically unable to move or perform actions outside of their own turn.”</li>
</ul>
</li>
<li>
<p>Study showed turn-based combat is <strong>better suited for party control</strong>, supporting my design choice to avoid real-time or RT-with-pause systems.</p>
</li>
<li>
<p>Identified that real-time systems can hinder multi-character control, while turn-based combat fits strategic, readable design.</p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/Warius5/FMP_Prototype_BenPowell/eb3b81c56b20f7246d4caeede5c472dbea602498/FMP 2ndTermStuff/Images/RealTime.png" alt="Real-Time Screenshot">
<img src="https://raw.githubusercontent.com/Warius5/FMP_Prototype_BenPowell/refs/heads/FMP/FMP 2ndTermStuff/Images/TurnBased.png" alt="Turnbased screenshot">
<img src="https://github.com/Warius5/FMP_Prototype_BenPowell/raw/eb3b81c56b20f7246d4caeede5c472dbea602498/FMP 2ndTermStuff/Images/RTWPause.png" alt="RTWPause"></p>
<hr>
<h4 id="data-oriented-design-dod-rosell-hernandez-2022%E2%80%932023"><em>Data-Oriented Design (DOD)</em> (Rosell Hernandez, 2022–2023)</h4>
<ul>
<li>
<p>Explores DOD as a performance- and structure-focused alternative to OOP.</p>
</li>
<li>
<p>DOD benefits beyond performance:</p>
<ul>
<li>Modular structure</li>
<li>Easier debugging</li>
<li>Cleaner, centralized logic</li>
</ul>
</li>
<li>
<p>Quote: DOD “fundamentally changes the way a program is conceived, making it more efficient from the start.”</p>
</li>
<li>
<p>Influenced my use of <strong>centralized managers</strong> and <strong>data-driven systems</strong> in both combat and map design.</p>
</li>
<li>
<p>Helped avoid deep inheritance hierarchies and improved the maintainability of expanding systems.</p>
</li>
</ul>
<hr>
<h4 id="wave-function-collapse-wfc-%E2%80%93-procedural-generation-gumin-2023-geschw%C3%A4rzt-2022"><em>Wave Function Collapse (WFC)</em> – Procedural Generation (Gumin, 2023; Geschwärzt, 2022)</h4>
<ul>
<li>
<p>WFC is a constraint-solving procedural algorithm originally used for texture synthesis.</p>
</li>
<li>
<p>Quote: WFC is “a non-backtracking, greedy constraint solving method that is able to generate complex patterns based on a set of input samples” (Gumin, 2023).</p>
</li>
<li>
<p>Can be used for generating branching or structured content based on adjacency rules.</p>
</li>
<li>
<p>I researched WFC as a possible tool for procedural map generation, but chose not to use it due to:</p>
<ul>
<li>Complexity relative to my needs</li>
<li>Most documentation focused on grid/tile systems</li>
<li>Potential contradictions if constraints were too strict (Geschwärzt, 2022)</li>
</ul>
</li>
<li>
<p>Instead, I implemented a simpler system using <strong>manual checks and randomised node spawning</strong>, but WFC informed my understanding of constraint-based logic.</p>
</li>
<li>
<p>Using this video as a example of WFC in use, made me view the wfc in more of a texture generating way, and after looking at other ways to create he node tree, would overcomplicating things. (3D Wave Function Collapse Unreal Overview, 2024)</p>
</li>
</ul>
<hr>
<h2 id="implementation">Implementation</h2>
<h2 id="ui">UI</h2>
<h2 id="initial-user-feedback-of-prototype">Initial User feedback of prototype</h2>
<p><a href="https://forms.office.com/Pages/AnalysisPage.aspx?AnalyzerToken=kicANjRSNFTOrDz91SWRa2kFrZ5jzEmN&amp;id=DDGcBsLUVEWxZpDKgFpeqhCe_JK5EUJHqmW8pKszlMJUNzQ5MDdJMzBSUTFJQVNJNjBMQlRLNVJaUS4u">Link to results of survey</a></p>
<h3 id="results">Results</h3>
<ul>
<li><strong>Early testing focused on core UI and combat systems</strong>, with feedback highlighting a strong desire for clearer visual indicators (e.g., turn cues, stat displays, and equipped item visibility) and a simple tutorial to ease players into the mechanics.</li>
<li><strong>Combat pacing received mixed feedback</strong>, with an average rating suggesting it felt slightly slow — highlighting the need to streamline animation timing or offer user control over combat speed.</li>
<li><strong>Post-battle flow and progression expectations</strong> (e.g., loot choices, map navigation) were frequently mentioned, which directly informed the later decision to implement a <strong>rogue-like node-based map</strong> to enhance player agency and long-term structure.</li>
</ul>
<p><img src="https://raw.githubusercontent.com/Warius5/FMP_Prototype_BenPowell/refs/heads/FMP/FMP 2ndTermStuff/ResearchVid/Untitled video - Made with Clipchamp.gif" alt="alt text">
<img src="https://raw.githubusercontent.com/Warius5/FMP_Prototype_BenPowell/refs/heads/FMP/FMP 2ndTermStuff/Images/image-1.png" alt="alt text"></p>
<p><img src="https://raw.githubusercontent.com/Warius5/FMP_Prototype_BenPowell/refs/heads/FMP/FMP 2ndTermStuff/Images/image-2.png" alt="alt text"></p>
<ul>
<li>The clear details on what things do really makes it easier to play smoothly in Super Auto Pet's. Form the feedback, knowing what is equipped and how that is affecting the character, as well as seeing the stat values of the characters easily is something that is important.</li>
</ul>
<hr>
<h2 id="battle-manager"><strong>Battle Manager</strong></h2>
<iframe src="https://blueprintue.com/render/qanh32po/" style="width: 100%; height: 100vh; border: none;" scrolling="no" allowfullscreen></iframe>
<ul>
<li>The destination of a lot of event dispatches, coming from UI buttons</li>
<li>Coordinates the <strong>combat flow</strong> between heroes and enemies.</li>
<li>Controls turn order, damage handling, and end-of-battle logic.</li>
<li>Integrates tightly with <code>BPC_Hero</code> and <code>BPC_Enemy</code> via <code>references</code> to trigger attacks and updates to stats or texts.</li>
<li>Issues encountered included <strong>broken references</strong> when switching camera views — fixed by making references <code>Instance Editable</code> and explicitly assigning them in the editor.</li>
<li>Integrates with the map system by triggering return transitions after battle completion (<code>Battle Finish to Map</code>).</li>
<li>Uses array sorting to sort all the characters by their speed.<iframe src="https://blueprintue.com/render/hrwi5n5i/" style="width: 100%; height: 100vh; border: none;" scrolling="no" allowfullscreen></iframe>
</li>
<li>Uses a tag system to track what characters are alive, to make it easier to find who can be targeted. Rather than having to remove them from the array and possibly cause issues, just having them not show up in a array of 'alive characters' means there's less adding and re-adding to structures.</li>
<li>Makes use of lots of events that often trigger each other rather than from externally, so some of them could be put into functions instead. However, as many of the events use variables and data that come from elsewhere, keeping all the logic in one place so you can follow where logic and info have come from seems like a decent bonus.</li>
<li>With hindsight, a lot of the functions probably could've been events and some of the events could have been functions. I think more planning could help with cleaning up what should go where, and streamlining logic and the amount of events. (Event/functions, what’s the main difference between them? - Programming &amp; Scripting / Blueprint, 2016)</li>
</ul>
<hr>
<h2 id="characters-bpbasecharacter-bpchero-and-bpcenemy"><strong>Characters (<code>BP_BaseCharacter</code>, <code>BPC_Hero</code> and <code>BPC_Enemy</code>)</strong></h2>
<iframe src="https://blueprintue.com/render/739thrz2/" style="width: 100%; height: 100vh; border: none;" scrolling="no" allowfullscreen></iframe>
<ul>
<li>Contains the logic for health, attack stats, animations, mostly triggered from the <code>battle manager</code>.</li>
<li>Visual feedback includes animations and sounds. Triggered using <code>Play Animation</code> rather than using a behaviour tree, as the animations were complex, and no nuanced player movement means partway states/ blends do not matter as much.</li>
<li>Lerps used to show the turn being done, like in the super auto pets or darkest dungeon. Made it simpler than using a moving animation that would not return to the correct place, or jump around too much.</li>
<li>As the main parts of the Hero's and Enemy are the same, a <code>BaseCharacter</code> is used to create a <code>BPC_Hero</code> and <code>BPC_Enemy</code>. With that mostly allow the character specific logic like setting health and triggering the visibility of the selection sphere.</li>
</ul>
<hr>
<h2 id="item-manager"><strong>Item Manager</strong></h2>
<iframe src="https://blueprintue.com/render/bjsyfcog/" style="width: 100%; height: 100vh; border: none;" scrolling="no" allowfullscreen></iframe>
<ul>
<li>Handles item selection, equipping, and application of stat changes to characters.</li>
<li>Uses <code>Data tables</code> to store the item stats, meaning its scalable for if new items were to be added, as well as allowing the structure to be expanded if new values were needed.
(Working with Data in Unreal Engine; Data tables, Data Assets, UPROPERTY specifiers and more! | Tutorial, 2024)</li>
<li>Stat changes triggered by item usage do not persist across rounds unless by buying equipment, mimicking SAP’s temporary vs. permanent stat flow.</li>
<li>Uses event dispatchers to get the equip event to trigger, and then sends out a dispatch to track the number of <code>equips</code> are left.</li>
</ul>
<hr>
<h2 id="menu-manager"><strong>Menu Manager</strong></h2>
<iframe src="https://blueprintue.com/render/6-fpz72h/" style="width: 100%; height: 100vh; border: none;" scrolling="no" allowfullscreen></iframe>
<ul>
<li>Controls transitions between the viewports.</li>
<li>Manages the UI being added and removed</li>
<li>Some of the logic could probably be more centrally handled in the ui blueprints themselves.</li>
<li>uses the references to the game mode to set up the dispatches, as an in between the manager and other things, as it was a reference that could be made by any bp and widget. I think that this probably isn't the most necessary, if I set it up differently from the start.</li>
</ul>
<hr>
<h2 id="map"><strong>Map</strong></h2>
<iframe src="https://blueprintue.com/render/5adufuzu/" style="width: 100%; height: 100vh; border: none;" scrolling="no" allowfullscreen></iframe>
<ul>
<li>The <code>BP_Map</code> sets up the node tree to use for selecting the next encounter. This involves generating the node tree dynamically and then populating it with an event.</li>
<li>Moves the player location sphere when a valid node is clicked and sets the event.</li>
<li>Initially considered using <code>Wave Function Collapse (WFC)</code> (Gumin, 2023), but was found to be overengineered for the project’s linear tree structure — instead a dynamic generation of the tree, using 'self replicating nodes' using a <code>TMap_LocationMap</code> to control placement, and then an array to be stored. (Map Containers in Unreal Engine | Unreal Engine 5.5 Documentation | Epic Developer Community, s.d.) (How to... Map Variables, 2021)</li>
<li>Construction</li>
</ul>
<iframe src="https://blueprintue.com/render/evp23jg7/" style="width: 100%; height: 100vh; border: none;" scrolling="no" allowfullscreen></iframe>
<ul>
<li>Constructing the tree - starts at the node, and uses the LocationMap to store it, using its location as the key. Adds the node to the array. and then generates 2 child nodes through <code>Node making</code>. Then loops for a specified amount, and calls node making for each one.</li>
</ul>
<iframe src="https://blueprintue.com/render/i9c2jav1/" style="width: 100%; height: 100vh; border: none;" scrolling="no" allowfullscreen></iframe>
<ul>
<li>NodeMaking - Done for left and right for each node. The new nodes are spawned a set distance away from the 'current' node. This location is first checked against the <code>Tmap LocationMap</code> as a key. And if it is the node is spawned as a child component and is added to the array.</li>
</ul>
<iframe src="https://blueprintue.com/render/wfx1r9jd/"style="width: 100%; height: 100vh; border: none;" scrolling="no" allowfullscreen></iframe>
<ul>
<li>This set up allows the current use of the nodes as child components, and as the connections generate they are made, there are no issues having to try and go back through and figure out where the nodes are, and then where the player will be able to go.</li>
</ul>
<h2 id="link-to-showing-map-working"><a href="https://youtu.be/4-OyRDOcjKk">Link to showing Map working</a></h2>
<h3 id="old-map">Old Map</h3>
<p><img src="https://raw.githubusercontent.com/Warius5/FMP_Prototype_BenPowell/refs/heads/FMP/FMP 2ndTermStuff/Images/image-6.png" alt="alt text">
<img src="https://raw.githubusercontent.com/Warius5/FMP_Prototype_BenPowell/refs/heads/FMP/FMP 2ndTermStuff/Images/image-7.png" alt="alt text"></p>
<p><a href="https://blueprintue.com/render/fcwh048q/">Old logic</a></p>
<ul>
<li>
<p>This old logic was my first idea on how to create the connected nodes, however due to the relative vs actual location, and using child components of a normal actor, made figuring out how fix any issue quite difficult. It was also done after the fact, so the tree would be made manually.</p>
</li>
<li>
<p>Originally wanted to use datatables to save the enemies, however they could not be done at runtime. I researched into custom plugins that would allow that, but it added alot of complexity that wouldn't give anything saving as a struct would couldn't.(Runtime DataTable, s.d.)</p>
</li>
</ul>
<p><a href="https://www.fab.com/listings/5c77947a-5096-438f-91fb-a28729a34b57">Link to plugin</a></p>
<ul>
<li>Boss Making - To be able to be done at the end, no matter the size of the tree.</li>
<li>The end nodes then have their left and right nodes set to the boss to make it connected.</li>
</ul>
<hr>
<h2 id="node"><strong>Node</strong></h2>
<iframe src="https://blueprintue.com/render/j_2ou7bj/" style="width: 100%; height: 100vh; border: none;" scrolling="no" allowfullscreen></iframe>
<ul>
<li>Represents individual progression points in the map tree.</li>
<li>Stores depth, difficulty, and connections to <code>LeftNode</code>, <code>RightNode</code>, and <code>ParentNode</code>.</li>
<li>Uses <code>ActorOnClick</code> and <code>Interfaces</code> to trigger selection and movement logic in <code>BP_Map</code>. (Interfaces in Unreal Engine | Unreal Engine 5.5 Documentation | Epic Developer Community, s.d.)</li>
<li>Stores the enemy event after its generated, so when its clicked its sent to the map, which sends it to the battleManager.</li>
<li>Has a border that changes its material depending on whether its valid or not to give a visual indicator to the player.</li>
<li>Difficulty selected using the randomly selecting the current or previous depth, and feeding that into a switch that triggers different <code>Function Libraries</code> that contain getters to get data from data tables.</li>
<li>This gets the range of stats in a <code>struct</code> which are then fed through <code>Structpop</code> to get the actual values. (Structs in Unreal Engine | Unreal Engine 5.5 Documentation | Epic Developer Community, s.d.)</li>
<li>Using structs and function libraries feed into the more data oriented design i am going for, which makes it easily usable, scalable and changeable if i need to add more data.</li>
<li>When the node is clicked on its checked whether its currently valid to be clicked, and then sent through a interface to the map to trigger the move.</li>
</ul>
<hr>
<h2 id="audio-manager"><strong>Audio Manager</strong></h2>
<iframe src="https://blueprintue.com/render/4llax9j5/" scrolling="no" allowfullscreen></iframe>
<ul>
<li>Handles sound effects and music cues across different parts of the game.</li>
<li>Plays at the start, with a link to the options menu that will turn the music on and off.</li>
</ul>
<hr>
<h1 id="testing">Testing</h1>
<p>Not clear what order to equip in, some click the item before selecting the hero to equip.
Not clear what is health or attack</p>
<p><a href="https://youtu.be/MOX6ynnFVkY">Video showing confusion</a></p>
<p>When going between rounds the hero selected stays, so if you press a button it 'equips' even when one shouldn't be</p>
<p><a href="https://youtu.be/MOX6ynnFVkY">Video showing Issue</a></p>
<p>Player was unsure on how the order / distance of each of the characters are significant or work.
Some sort of explanation of it being random could be good.
They also beat the boss and there was no screen to retry or end, as i had forgotten to add one for that scenario while i was doing the losing one.
Some sort of visual indicator of damage taken was requested as if there's no deaths its somewhat hard to tell what has happened.</p>
<p>If the tester was fast enough they could click on a multiple nodes and skip, but non valid nodes could still not be clicked.</p>
<h1 id="polish-and-testing-based-fixes">Polish and Testing based fixes</h1>
<p><a href="https://docs.google.com/forms/d/1U_z3QnWBpURIj_iwKYPRiUs4XDgG9Hy1ulCgtZFZiwg/edit#responses">Link to results of survey</a></p>
<p>I fed the results into Chatgpt to give me key areas that need improvement or adding.</p>
<table>
<thead>
<tr>
<th>Area</th>
<th>Action Items</th>
</tr>
</thead>
<tbody>
<tr>
<td>Tutorial/Clarity</td>
<td>Add intro tutorial, improve UI clarity, fix overlapping text</td>
</tr>
<tr>
<td>Player Feedback</td>
<td>Better responses to actions (equip, win, fail), improve damage indicators</td>
</tr>
<tr>
<td>Animations</td>
<td>Add simple animations inspired by JRPGs and tactical RPGs</td>
</tr>
<tr>
<td>Gameplay Systems</td>
<td>Consider risk-reward mechanics and experimental combat styles</td>
</tr>
<tr>
<td>Visual Polish</td>
<td>Refine character visuals and ensure UI readability</td>
</tr>
</tbody>
</table>
<p>The key take away from the feedback on things that can be improved is by giving better instructions on what to do, make it clearer on what is going on.
By fixing the texts and adding more for clarity and explanations, and then adding animations or effects to show interactions and feedback.</p>
<p>Attack animations, moving the text and background music.</p>
<h2 id="animations-and-skins">Animations and skins</h2>
<p>Got skeletal mesh and attack animations from mixamo.
Tried attack and idle animations, using <code>Play Animation</code> to add a simple animation on the attack, but the one i used moved the character while in the animation and because the character also moves it causes some issues. So rather than using an animation that moves, having the character move and the animation be an in place one should fix without having to overcomplicate things.
Added event to character called take damage to play a getting hit animation when it is targeted in the battlemanager.
Added animation to walk back while reseting but check if it needs to move and doesnt play animation if doesnt.</p>
<h2 id="ui-and-options">UI And Options</h2>
<iframe src="https://blueprintue.com/render/1sty41yg/" scrolling="no" allowfullscreen></iframe>
<p>Moved around the text and added more to explain things better.</p>
<h2 id="fixing-boss-win-and-map-problem">Fixing Boss win and map problem</h2>
<p>Checks if the current node is the boss node when it wins.
need to stop being able to click, or triggering the selecting node.</p>
<h1 id="reflection">Reflection</h1>
<h2 id="research">Research</h2>
<p>I've made use of a range of research, whether it be from academic, games and documentation. I used academic sources to affect some decisions in related to the underlying game, being the decision to use turn based for the game as apposed to live battling. By looking at games like super auto pets and other turn based battlers, it helped decide how the turns would laid out, where the option of one after the other, or the front ones at the same time. This game having the enemies be one big one rather than multiple small enemies, having the game be one after the other fits better.
I think perhaps having a better idea around the underlying systems of the games i took interest in, such as Peggle for its map, or super auto pets for the item equipping, may have let me have a better idea of how they were made and why they were done like that to either change the way i made it or make it easier in my implementation.
Perhaps having a better overview of the technical hurdles i would overcome from the beginning and instead making quick separate prototypes of all my systems, and researching what way would be the best to go forward would help in being more efficient in the structure and implementation.</p>
<h2 id="positive">Positive</h2>
<p>I really enjoyed the problem solving involved in creating the Map's node tree, going through multiple iterations of where and how it was done. Being able to step back and look at another way of implementing it enabled me to use the TMap and learn how they worked. As i went,  i felt i made use of better structuring techniques, such as
when to use functions and being more concise in layout and variable etc usage.
The change in style of how i made the game, where instead of using object oriented design, using data oriented and managers, was successful in showing there are alternate ways of organising a project. The managers made it easier to control and figure things out, but having to send things around to places did get a bit tedious, but i wouldn't be surprised if there were better ways of doing it.
I'm glad i made use of some testing, to get feedback on whether the game was good to play and what parts in the ui needed fixing.</p>
<h2 id="negative-analysis">Negative Analysis</h2>
<p>My biggest issue was definitely the lack of a clear structure and 'plan of attack' on how to get to the end goal. This led me to make a lot of it up as i went, and led to inefficiencies and mess when connecting back to a previous system. It also led me to having a bit of a negative attitude in terms of getting into doing the work, as the unknown's somewhat crushed my willingness to start working.
I think that a more refactor open mindset to the systems would have benefitted me, as there were a few occasions that i was limited or slowed down by previous systems or ideas, that were probably not the best done, that did not work very well with what my idea was at the time, so it would take longer to get it to work correctly, than if i had redone the previous connection to work better.
I think my mindset in terms of creating something that was more professional could have been better, as I felt like i was treating it less seriously as a 'public facing' project, so certain things like polishing more in a player facing way was lacking until the end which made it more rushed than it should have.
I also wished i made better use of the trello board to keep up with times, and plan better. But as i lost track of the priorities of the project, i mostly neglected the trello board as i went.</p>
<h2 id="next-time">Next Time</h2>
<p>In the next big project i do, i want to ensure i have a more defined architectural plan, possibly going to a designer to properly design the different systems required, with more expertise. This clarity would then allow more structure and better code and systems, and make it look more professional.
Lending more time to creating visuals like vfx etc could be good, as i had neglected those components until the end making those additions need to be added at end messily rather than built from the start.
Making the project more modular and structured to make development easier and more understandable is something i would also like to do more of.</p>
<h1 id="bibliography">Bibliography</h1>
<p>Team Wood Games (2021) Super Auto Pets [Video game]. Developed and published by Team Wood Games.</p>
<p>Red Hook Studios (2016) Darkest Dungeon [Video game]. Developed and published by Red Hook Studios.</p>
<p>Mäkelä, V. and Schmidt, A. (2020) 'I Don’t Care as Long as It’s Good: Player Preferences for Real-Time and Turn-Based Combat Systems in Computer RPGs' In: Proceedings of the Annual Symposium on Computer-Human Interaction in Play. CHI PLAY ’20: The Annual Symposium on Computer-Human Interaction in Play. Virtual Event Canada: ACM. pp.231–240. At: https://dl.acm.org/doi/10.1145/3410404.3414248</p>
<p>Geschwärzt, J. (2022) Procedural Generation of Buildings Using Wave Function Collapse. Bachelor’s Thesis. HAW Hamburg. Available at: https://reposit.haw-hamburg.de/bitstream/20.500.12738/15709/1/BA_Procedural%20Generation%20of%20Buildings_geschw%C3%A4rzt.pdf</p>
<p>Map Containers in Unreal Engine | Unreal Engine 5.5 Documentation | Epic Developer Community (s.d.) At: https://dev.epicgames.com/documentation/en-us/unreal-engine/map-containers-in-unreal-engine .</p>
<p>How to... Map Variables (2021) At: https://www.youtube.com/watch?v=3mHjybsLhc0</p>
<p>Event/functions, what’s the main difference between them? - Programming &amp; Scripting / Blueprint (2016) At: https://forums.unrealengine.com/t/event-functions-whats-the-main-difference-between-them/351110</p>
<p>3D Wave Function Collapse Unreal Overview (2024) At: https://www.youtube.com/watch?v=ZFA3uCg_Peg</p>
<p>Structs in Unreal Engine | Unreal Engine 5.5 Documentation | Epic Developer Community (s.d.) At: https://dev.epicgames.com/documentation/en-us/unreal-engine/structs-in-unreal-engine</p>
<p>Working with Data in Unreal Engine; Data tables, Data Assets, UPROPERTY specifiers and more! | Tutorial (2024) At: https://dev.epicgames.com/community/learning/tutorials/Gp9j/working-with-data-in-unreal-engine-data-tables-data-assets-uproperty-specifiers-and-more</p>
<p>Interfaces in Unreal Engine | Unreal Engine 5.5 Documentation | Epic Developer Community (s.d.) At: https://dev.epicgames.com/documentation/en-us/unreal-engine/interfaces-in-unreal-engine</p>
<h2 id="declared-assets">Declared Assets</h2>
<p>Chatgpt</p>
<p>All animations and skeletal meshes from Mixamo</p>
<p>Music from Pixabay:
punch | Royalty-free Music (s.d.) At: https://pixabay.com/sound-effects/punch-95294/ (Accessed  22/05/2025).
Medieval Adventure | Royalty-free Music (s.d.) At: https://pixabay.com/music/beats-medieval-adventure-154671/ (Accessed  21/05/2025).</p>

</body>
</html>
